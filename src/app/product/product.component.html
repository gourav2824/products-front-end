<h1>Products</h1>
<div *ngFor="let product of products; index as productIndex">

    ID : <input #productId type="number" value="{{product.id}}"
                [disabled]="true">
    &nbsp; &nbsp;
    Name : <input #productName type="text" value="{{product.name}}"
                    [disabled]="productIndex !== productIndexUnderEditing">
    &nbsp; &nbsp;
    Price : <input #productPrice type="number" value="{{product.price}}"
                    [disabled]="productIndex !== productIndexUnderEditing">
    &nbsp; &nbsp;

    <button *ngIf="productIndex !== productIndexUnderEditing; else saveButton"
            (click)="productIndexUnderEditing = productIndex">Edit
    </button>
    <ng-template #saveButton>
        <button (click)="updateProduct(productId.value, productName.value, productPrice.value)">Save
        </button>
    </ng-template>

    &nbsp; &nbsp;
    <button (click)="deleteProduct(product.id)">Delete</button>
    <br><br>
</div>

<div *ngIf="isAddingNewProduct === false; then thenBlock; else elseBlock"></div>
<ng-template #thenBlock>
    <button (click)="isAddingNewProduct = true">Add Product</button>
</ng-template>
<ng-template #elseBlock>
    ID : <input #newProductId type="number">
    &nbsp; &nbsp;
    Name : <input #newProductName type="text">
    &nbsp; &nbsp;
    Price : <input #newProductPrice type="number">
    &nbsp; &nbsp;

    <button (click)="addProduct(newProductId.value, newProductName.value, newProductPrice.value)">
        Add
    </button>
    &nbsp; &nbsp;
    <button (click)="isAddingNewProduct = false">Cancel</button>
</ng-template>
